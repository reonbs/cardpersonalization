@model IEnumerable<ZenithCardRepo.Data.DTOs.CardApplicationsDTO>
@{
    ViewBag.Title = "Search Result";
}

<hr />
@*@using (Html.BeginForm())
    {*@

<div class="row">
    <div class="col-sm-12">
        <div class="card-box table-responsive">
            @if (TempData["Message"] as string == "Success")
            {
                <div class="alert alert-icon alert-success alert-dismissible fade in" role="alert">
                    <button type="button" class="close" data-dismiss="alert"
                            aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <i class="mdi mdi-check-all"></i>
                    <span>Card Application Download was successful @*<a href="@Url.Action("ViewProcessedCards","CardApplication")">Click to view downloads</a>*@</span>
                </div>
            }
            @{
                var cardApps = Model?.ToList();
            }

            @if (Model?.ToList().Count > 0)
            {
                <table id="tblSearcResults" class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>
                                @*<input type="checkbox" id="checkall" />*@
                            </th>
                            <th>Full Name</th>
                            <th>Office Phone No</th>
                            <th>Sex</th>
                            <th>Requesting Branch Code</th>
                            <th>Date Created</th>
                            <th>last Download Date</th>
                            <th>BatchNo</th>
                            <th>Completed</th>
                            <th></th>
                        </tr>
                    </thead>

                    <tbody>
                        @for (int i = 0; i < cardApps.Count(); i++)
                        {
                            <tr>
                                @Html.Hidden("cardApps[" + @i + "].ID", cardApps[i].ID)
                                <td>@Html.CheckBox("cardApps[" + @i + "].IsSelected", cardApps[i].IsSelected)</td>
                                <td>@Html.TextBox("cardApps[" + @i + "].FullName", cardApps[i].FullName, new { @readonly = "readonly", @class = "qty readonly" })</td>
                                <td>@Html.TextBox("cardApps[" + @i + "].OfficePhoneNo", cardApps[i].OfficePhoneNo, new { @readonly = "readonly", @class = "qty readonly" })</td>
                                <td>@Html.TextBox("cardApps[" + @i + "].Sex", cardApps[i].Sex, new { @readonly = "readonly", @class = "qty readonly" })</td>
                                <td>@Html.TextBox("cardApps[" + @i + "].RequestingBranchCode", cardApps[i].RequestingBranchCode, new { @readonly = "readonly", @class = "qty readonly" })</td>
                                <td>@Html.TextBox("cardApps[" + @i + "].DateCreated", cardApps[i].DateCreated, new { @readonly = "readonly", @class = "qty readonly" })</td>
                                <td>@Html.TextBox("cardApps[" + @i + "].LastDownloadDate", cardApps[i].LastDownloadDate, new { @readonly = "readonly", @class = "qty readonly" })</td>
                                <td>@Html.TextBox("cardApps[" + @i + "].ProcessedBatchNo", cardApps[i].ProcessedBatchNo, new { @readonly = "readonly", @class = "qty readonly" })</td>
                                <td>@Html.CheckBox("cardApps[" + @i + "].IsProcessed", cardApps[i].IsProcessed, new { @disabled = "disabled" })</td>
                                @if (!cardApps[i].IsProcessed)
                                {
                                    <td>@Html.ActionLink("Edit", "CardApplicationEdit", "CardApplication", new { ID = cardApps[i].ID }, null)</td>
                                }
                                else
                                {
                                    <td><a href="#">processed</a></td>
                                }
                            </tr>
                        }

                    </tbody>
                </table>
            }
            else
            {
                <div>
                    <span>No Result Found</span>
                </div>
            }


        </div>
    </div>
</div>
@**}*@


